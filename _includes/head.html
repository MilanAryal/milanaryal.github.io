<head>

  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  {% if jekyll.environment == "production" %}
    {% include preload.html %}
  {% endif %}

  <!-- Critical CSS -->
  {% include styles.html %}

  {% include build_version.html %}

  {%- assign site_title = site.title | default: site.name -%}
  {%- if site_title -%}
    {%- assign site_title = site_title | smartify | strip_html | normalize_whitespace | escape_once -%}
  {%- endif -%}

  {%- if page.title -%}
    {%- assign page_title = page.title | smartify | strip_html | normalize_whitespace | escape_once -%}
  {%- endif -%}

  <!-- Basic page needs -->
  {% if page.permalink == '/' %}
    <title>{{ site_title }} | {{ site.tagline }}</title>
    {% seo title=false %}
  {% else %}
    {% seo %}
  {% endif %}

  {%- if page.image and page.image != "" -%}
    {%- assign hasImage = true -%}
  {% elsif page.image.path and page.image.path != "" %}
    {%- assign hasImage = true -%}
  {% else %}
    {%- assign hasImage = false -%}
    {%- assign thumbnail = page.thumbnail.path | default: page.thumbnail | default: site.logo -%}
  {%- endif -%}

  {% unless hasImage %}
    <meta property="og:image" content="{{ thumbnail | absolute_url }}" />
    {% if page.thumbnail.width %}
      <meta property="og:image:width" content="{{ page.thumbnail.width }}" />
    {% endif %}
    {% if page.thumbnail.height %}
      <meta property="og:image:height" content="{{ page.thumbnail.height }}" />
    {% endif %}
  {% endunless %}

  <!-- Feed -->
  {% feed_meta %}

  <!-- robotstxt.org  -->
  {% if page.robots %}
    <meta name="robots" content="{{ page.robots }}" />
  {% endif %}

  <!-- humanstxt.org -->
  <link type="text/plain" rel="author" href="{{ 'humans.txt' | absolute_url }}" />

  <!-- Open Search description -->
  <link type="application/opensearchdescription+xml" rel="search" href="{{ 'opensearch.xml' | absolute_url }}" title="{{ site_title }}" />

  <!-- Favicon & startup configuration -->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v={{ build_version }}" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v={{ build_version }}" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v={{ build_version }}" />
  <link rel="manifest" href="/site.webmanifest?v={{ build_version }}" />
  <link rel="mask-icon" href="/safari-pinned-tab.svg?v={{ build_version }}" color="{{ site.theme_color }}" />
  <link rel="shortcut icon" href="/favicon.ico?v={{ build_version }}" />
  <meta name="msapplication-TileColor" content="{{ site.theme_color }}" />
  <meta name="msapplication-config" content="/browserconfig.xml?v={{ build_version }}" />
  <meta name="theme-color" content="{{ site.theme_color }}" />

  {% include about_json_ld.html %}

</head>
