<head>

  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  {% if jekyll.environment == "production" %}
    {% include preload.html %}
  {% endif %}

  <!-- Critical CSS -->
  {% include styles.html %}

  {%- include build_version.html -%}

  {%- assign site_title = site.title | default: site.name -%}
  {%- if site_title -%}
    {%- assign site_title = site_title | smartify | strip_html | normalize_whitespace | escape_once -%}
  {%- endif -%}

  {%- comment -%}<!-- Begin Jekyll SEO tag -->{%- endcomment -%}

  {% if page.permalink == '/' %}
    <title>{{ site_title }} | {{ site.tagline }}</title>
    {% seo title=false %}
  {% else %}
    {% seo %}
  {% endif %}

  {%- if page.image and page.image != empty -%}
    {%- assign hasImage = true -%}
  {% elsif page.image.path and page.image.path != empty %}
    {%- assign hasImage = true -%}
  {% else %}
    {%- assign hasImage = false -%}

    {%- assign thumbnail = page.thumbnail.path | default: page.thumbnail | default: site.logo -%}
    {%- unless thumbnail contains '://' -%}
      {%- assign thumbnail = thumbnail | absolute_url -%}
    {%- endunless -%}
    {%- assign thumbnail = thumbnail | escape -%}
  {%- endif -%}

  {% unless hasImage %}
    <meta property="og:image" content="{{ thumbnail }}" />
    {% if page.thumbnail.width %}
      <meta property="og:image:width" content="{{ page.thumbnail.width }}" />
    {% endif %}
    {% if page.thumbnail.height %}
      <meta property="og:image:height" content="{{ page.thumbnail.height }}" />
    {% endif %}
    <meta property="twitter:image" content="{{ thumbnail }}" />
  {% endunless %}

  {% include about_json_ld.html %}

  {%- comment -%}<!-- End Jekyll SEO tag -->{%- endcomment -%}

  <!-- Feed -->
  {% feed_meta %}

  {% if page.robots %}
    <!-- robotstxt.org  -->
    <meta name="robots" content="{{ page.robots }}" />
  {% endif %}

  <!-- humanstxt.org -->
  <link type="text/plain" rel="author" href="{{ 'humans.txt' | absolute_url }}" />

  <!-- Open Search description -->
  <link type="application/opensearchdescription+xml" rel="search" href="{{ 'opensearch.xml' | absolute_url }}" title="{{ site_title }}" />

  <!-- Favicon & startup configuration -->
  <link rel="apple-touch-icon" sizes="180x180" href="{{ 'apple-touch-icon.png' | relative_url }}?v={{ build_version }}" />
  <link rel="icon" type="image/png" sizes="32x32" href="{{ 'favicon-32x32.png' | relative_url }}?v={{ build_version }}" />
  <link rel="icon" type="image/png" sizes="16x16" href="{{ 'favicon-16x16.png' | relative_url }}?v={{ build_version }}" />
  <link rel="manifest" href="{{ 'manifest.webmanifest' | relative_url }}" />
  <link rel="mask-icon" href="{{ 'safari-pinned-tab.svg' | relative_url }}?v={{ build_version }}" color="{{ site.theme_color }}" />
  <link rel="shortcut icon" href="{{ 'favicon.ico' | relative_url }}?v={{ build_version }}" />
  <meta name="msapplication-TileColor" content="{{ site.theme_color }}" />
  <meta name="msapplication-config" content="{{ 'browserconfig.xml' | relative_url }}" />
  <meta name="theme-color" content="{{ site.theme_color }}" />

</head>
